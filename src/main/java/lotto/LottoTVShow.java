package lotto;

import lotto.domain.Lotto;
import lotto.domain.LottoResult;
import lotto.view.InputView;
import lotto.view.ResultView;

import java.util.ArrayList;
import java.util.List;

public class LottoTVShow {
	public int purchaseAmount;

	public List<List<Integer>> autoGeneratedLottos = new ArrayList<>();

	public List<Integer> lastWeekPrizeNumbers = new ArrayList<>();

	Lotto lotto = new Lotto();

	LottoResult lottoResult = new LottoResult();

	private List<Integer> compareLastWeekPrizeNumberWithAutoGeneratedLottoNumber() {
		List<Integer> lottoResultList = new ArrayList<>();
		for (List<Integer> autoGeneratedLotto : this.autoGeneratedLottos) {
			int matchCount = lotto.getMatchCount(this.lastWeekPrizeNumbers, autoGeneratedLotto);
			lottoResultList.add(matchCount);
		}
		return lottoResultList;
	}

	public void start() {
		this.purchaseAmount = InputView.printInputNoticeForPurchaseAmount();
		this.autoGeneratedLottos = lotto.generatePurchagedAutoLotto(purchaseAmount);
		this.lastWeekPrizeNumbers = InputView.printLastPrizeInput();

		List<Integer> lottoResultList = this.compareLastWeekPrizeNumberWithAutoGeneratedLottoNumber();

		this.lottoResult.arrangePrize(lottoResultList, Lotto.LOTTO_PRICE_PER_SHEET);
		ResultView.printResult(lottoResultList, lottoResult);
	}


}
